---
link: https://www.notion.so/R23-02-10-8890550eb50c4b66912a910a08e4c15b
notionID: 8890550e-b50c-4b66-912a-910a08e4c15b
---
#37
##### WriteBack 쓰레드 수에 따른 성능 최종 실험
- non-cg/cg에서 rand/seq, 4t/8t 의 조합으로 3번씩 돌려서 평균 성능을 얻음 (MiB/s)
	- rand, 4t: 1831/1846
	- rand, 8t: 1141.3/1166
	- seq, 4t: 3574.6/3301.6
	- seq, 8t: 2527.3/2096.6
- rand에서는 cg가 아주 미세하게 빨랐으나 seq에서는 꽤 큰 폭으로 느려짐
	- 서로 경향이 완전히 달라서 사실상 오차로 보아도...?
- 일단 당장의 결론은 결국 Ext4 파일시스템에서는 writeback thread 수를 늘려도 성능을 늘릴 수는 없다는 것
- 그런데 애초에 실험 설계가 이게 맞나 싶은게 있다
	- rand 4t와 rand 8t 그리고 seq 4t와 seq 8t끼리 비교해보았을 때, non-cg에서는 사실상 같은 스레드 수로 같은 파일들에 대해 같은 패턴으로 돌린 것이기 때문에 서로 성능이 거의 동일하게 나타나야 한다.
	- 그러나 실제로 값을 보면 1831과 1141.3 그리고 3574.6과 2527.3 으로 서로 비교해 보았을 때 엄청나게 큰 폭으로 성능에 차이가 발생한다...?
	- 이유를 알 수가 없다. **바닐라에서도 같을 것으로 생각한 설정끼리의 성능에 큰 차이가 나고 있기 때문에, 일단은 실험 설계 자체가 잘 못 되었을 가능성 또한 염두해 둔다.**